# insurance-project

Добрый день.
Сервис по расчету страховки таваров на основе типа груза и тарифа.
Тариф отправляется в формате json и имеет вид показанный ниже.

```json { "2020-06-01": [ { "cargo_type": "Glass", "rate": "0.04" }, { "cargo_type": "Other", "rate": "0.01" } ], "2020-07-01": [ { "cargo_type": "Glass", "rate": "0.035" }, { "cargo_type": "Other", "rate": "0.015" } ] } ```

Сервис сохраняет тарифы в бд PostgreSQL, а также имеет возможность работы с ними методами CRUD.
ознакомиться со всеми методами можно по http://0.0.0.0:8000/docs

Что-бы поднять сервис установите репозиторий и запустите команду docker compose up -d --build
Эта команда запустит создание и настройку бд с помощью миграций alembic.
Контейнеры: API, PostgresSQL, Kafka (zookeeper, ui)

Для работы логики отправьте запрос на адрес http://0.0.0.0:8000/api/v1/insurance/
Укажите: типа груза, дату, обьявленную стоимость. В результате вы получитите расчет стоимости страховки или исключение если в бд нет тарифа на данный товар.